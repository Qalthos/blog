<!DOCTYPE html>
<html lang="en">
<head>
  <title>Why Not Wingnut? - schoolserver</title>
  <meta charset="utf-8" />
    <link rel="stylesheet" href="http://nathanielca.se/theme/css/main.min.css?6f94adab" type="text/css" />
    <link href="http://nathanielca.se/feeds/tag/schoolserver.atom.xml"
          type="application/atom+xml" rel="alternate"
          title="Why Not Wingnut? schoolserver Atom Feed" />

  <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!--[if lte IE 7]>
    <link rel="stylesheet" type="text/css" media="all" href="http://nathanielca.se/css/ie.css"/>
    <script src="http://nathanielca.se/js/IE8.js" type="text/javascript"></script>
  <![endif]-->

  <!--[if lt IE 7]>
    <link rel="stylesheet" type="text/css" media="all" href="http://nathanielca.se/css/ie6.css"/>
  <![endif]-->

</head>

<body id="index" class="home">
  <header id="banner" class="body">
    <h1><a href="http://nathanielca.se/">Why Not Wingnut? </a></h1>
    <nav><ul>
        <li ><a href="http://nathanielca.se/category/civx.html">CIVX</a></li>
        <li ><a href="http://nathanielca.se/category/fossrit.html">FOSS@RIT</a></li>
        <li ><a href="http://nathanielca.se/category/meta.html">meta</a></li>
        <li ><a href="http://nathanielca.se/category/personal.html">personal</a></li>
          <li><a href="http://nathanielca.se/pages/about.html">about</a></li>
          <li><a href="http://nathanielca.se/pages/links.html">links</a></li>
          <li><a href="http://nathanielca.se/pages/projects.html">projects</a></li>
        <li><a href="http://qalthos.github.io/resume/resume.pdf">resume</a></li>
    </ul></nav>
  </header><!-- /#banner -->
        
        

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://nathanielca.se/fossrit/building-a-schoolserver.html">Building a Schoolserver</a></h1> 
<footer class="post-info">
        <p><img src="http://www.gravatar.com/avatar/3a3baabff105b46a458688ecf49901af" /></p>
        <abbr class="published" title="2013-08-05T02:04:00-04:00">
                Mon 05 August 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://nathanielca.se/author/nathaniel-case.html">Nathaniel Case</a>
        </address>
<p>In <a href="http://nathanielca.se/category/fossrit.html">FOSS@RIT</a>. </p>
<p>tags: <a href="http://nathanielca.se/tag/sugar.html">sugar</a><a href="http://nathanielca.se/tag/schoolserver.html">schoolserver</a></p>
</footer><!-- /.post-info --><p>One of my tasks for this summer has been to try and get the FOSSBox's
schoolserver up and running again. We previouly had one a number of years ago,
but the hardware failed some time ago and the system itself was running a
hacked-together Debian build and did not have access to some of the actual
schoolserver scripts.</p>
<p>I first attempted to run the <a class="reference external" href="http://wiki.laptop.org/go/XS_Installing_Software_0.7">instructions</a> for the latest proper release of
the XO Schoolserver (henceforth XS), but this did not end very well. For one,
the instructions (and many automated scripts) assume you have two network
cards: one for the internal LAN to which the XO laptops connect, and another
connecting to the Internet. This assumption that the XS would be the gateway
device for a network of XO laptops would be fine in most deployments where
there is no existing infrastructure to get in the way, but at RIT where there
is not only significant infrastructure, but infrastructure I cannot easily
modify or control, it is less applicable.</p>
<p>Here are the steps I have taken to turn a fresh CentOS/RHEL server into an XS:</p>
<ol class="arabic simple">
<li>Set up <a class="reference external" href="http://fedoraproject.org/wiki/EPEL">EPEL</a>.</li>
<li>Add the <a class="reference external" href="http://wiki.laptop.org/go/XS_Installing_Software_0.7#Installing_on_top_of_existing_OS_installation">OLPC-XS repository</a> to your yum config.</li>
<li><tt class="docutils literal">yum install ejabberd idmgr <span class="pre">ds-backup-server</span> <span class="pre">xs-activity-server</span></tt></li>
<li><tt class="docutils literal"><span class="pre">xs-domain-config</span> &lt;domain name&gt;</tt></li>
<li><tt class="docutils literal"><span class="pre">xs-setup</span></tt></li>
<li>Use <tt class="docutils literal"><span class="pre">system-config-firewall-tui</span></tt> to unblock ports 22, 80, 8080, 5222, 5223,
and 4369</li>
</ol>
<p><tt class="docutils literal"><span class="pre">xs-setup</span></tt> is the most trying of the commands, because it does a lot of
background work to set up the OLPC versions of many config files (while still
leaing the originals in place).</p>
<p>There's more to it, <tt class="docutils literal"><span class="pre">xs-setup</span></tt> tends to have some annoying side effects,
some of the config files need to be manually updated, but this is the general
idea. This post will be further updated as time goes on.</p>
<p>The main problem seen so far is that this is being set up on a RHEL server
backed by XEN, and the OLPC-XS repository keeps wanting to install an
incompatible kernel, hosing the system on a regular basis.</p>
                </article>
<p class="paginator">
    Page 1 / 1
</p>
            </aside><!-- /#featured -->
            </ol><!-- /#posts-list -->
            </section><!-- /#content -->
  <section id="extras" class="body">
    <div class="blogroll">
      <h2>blogroll</h2>
      <ul>
        <li><a href="http://foss.rit.edu">FOSS@RIT</a></li>
        <li><a href="http://yacht.rit.edu/planet/">FOSSBox Planet</a></li>
      </ul>
    </div><!-- /.blogroll -->
    <div class="tagcloud">
      <h2>tag cloud</h2>
      <ul>
          <li class="tag-4"><a href="http://nathanielca.se/tag/knowledge.html">knowledge</a></li>
          <li class="tag-4"><a href="http://nathanielca.se/tag/schoolserver.html">schoolserver</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/scrapers.html">scrapers</a></li>
          <li class="tag-3"><a href="http://nathanielca.se/tag/jquery.html">jQuery</a></li>
          <li class="tag-2"><a href="http://nathanielca.se/tag/election.html">election</a></li>
          <li class="tag-4"><a href="http://nathanielca.se/tag/charsheet.html">charsheet</a></li>
          <li class="tag-3"><a href="http://nathanielca.se/tag/yacht.html">yacht</a></li>
          <li class="tag-3"><a href="http://nathanielca.se/tag/polyscraper.html">polyscraper</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/lemonade.html">lemonade</a></li>
          <li class="tag-4"><a href="http://nathanielca.se/tag/remysmoke.html">remysmoke</a></li>
          <li class="tag-3"><a href="http://nathanielca.se/tag/data alchemy.html">data alchemy</a></li>
          <li class="tag-2"><a href="http://nathanielca.se/tag/geowebdns.html">geowebdns</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/hackathon.html">hackathon</a></li>
          <li class="tag-4"><a href="http://nathanielca.se/tag/hardware.html">hardware</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/surs.html">SURS</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/openshift.html">openshift</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/peopledashboard.html">peopledashboard</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/floss-seminar.html">FLOSS-seminar</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/journalism.html">journalism</a></li>
          <li class="tag-2"><a href="http://nathanielca.se/tag/democracymap.html">democracymap</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/sugar.html">sugar</a></li>
          <li class="tag-4"><a href="http://nathanielca.se/tag/fabulous.html">fabulous</a></li>
          <li class="tag-3"><a href="http://nathanielca.se/tag/timeline.html">timeline</a></li>
          <li class="tag-2"><a href="http://nathanielca.se/tag/pydex.html">pyDex</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/wikiotics.html">wikiotics</a></li>
          <li class="tag-3"><a href="http://nathanielca.se/tag/groovebot.html">groovebot</a></li>
          <li class="tag-3"><a href="http://nathanielca.se/tag/wat.html">wat</a></li>
          <li class="tag-3"><a href="http://nathanielca.se/tag/mediagoblin.html">mediagoblin</a></li>
          <li class="tag-1"><a href="http://nathanielca.se/tag/widgets.html">widgets</a></li>
          <li class="tag-3"><a href="http://nathanielca.se/tag/blog.html">blog</a></li>
      </ul>
    </div>
    <div class="social">
      <h2>social</h2>
      <ul>
        <li><a href="http://nathanielca.se/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

          <li><a href="http://github.com/Qalthos">Github</a></li>
          <li><a href="http://gplus.to/qalthos">Google+</a></li>
      </ul>
    </div><!-- /.social -->
  </section><!-- /#extras -->

  <footer id="contentinfo" class="body">
    <address id="about" class="vcard body">
      Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
    </address><!-- /#about -->

    <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
  </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-40338393-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>