<!DOCTYPE html>
<html lang="en">
<head>
  <title>Why Not Wingnut? - yacht</title>
  <meta charset="utf-8" />
    <link rel="stylesheet" href="http://blog.katherineca.se/theme/css/main.min.css?1f773f3a" type="text/css" />
    <link href="http://blog.katherineca.se/feeds/tag/yacht.atom.xml"
          type="application/atom+xml" rel="alternate"
          title="Why Not Wingnut? yacht Atom Feed" />

  <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!--[if lte IE 7]>
    <link rel="stylesheet" type="text/css" media="all" href="http://blog.katherineca.se/css/ie.css"/>
    <script src="http://blog.katherineca.se/js/IE8.js" type="text/javascript"></script>
  <![endif]-->

  <!--[if lt IE 7]>
    <link rel="stylesheet" type="text/css" media="all" href="http://blog.katherineca.se/css/ie6.css"/>
  <![endif]-->

</head>

<body id="index" class="home">
  <header id="banner" class="body">
    <h1><a href="http://blog.katherineca.se/">Why Not Wingnut? </a></h1>
    <nav><ul>
        <li ><a href="http://blog.katherineca.se/category/civx.html">CIVX</a></li>
        <li ><a href="http://blog.katherineca.se/category/fossrit.html">FOSS@RIT</a></li>
        <li ><a href="http://blog.katherineca.se/category/meta.html">meta</a></li>
        <li ><a href="http://blog.katherineca.se/category/personal.html">personal</a></li>
        <li><a href="http://qalthos.github.io/resume/resume.pdf">resume</a></li>
    </ul></nav>
  </header><!-- /#banner -->
        
        

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://blog.katherineca.se/fossrit/deploying-mediagoblin-2-selinux.html">Deploying MediaGoblin 2: SELinux</a></h1> 
<footer class="post-info">
        <p><img src="https://www.gravatar.com/avatar/3a3baabff105b46a458688ecf49901af" /></p>
        <abbr class="published" title="2013-09-27T16:09:00-04:00">
                Fri 27 September 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.katherineca.se/author/katherine-case.html">Katherine Case</a>
        </address>
<p>In <a href="http://blog.katherineca.se/category/fossrit.html">FOSS@RIT</a>. </p>
<p>tags: <a href="http://blog.katherineca.se/tag/mediagoblin.html">mediagoblin</a><a href="http://blog.katherineca.se/tag/yacht.html">yacht</a><a href="http://blog.katherineca.se/tag/selinux.html">SELinux</a></p>
</footer><!-- /.post-info --><p>So, <a class="reference external" href="deploying-mediagoblin-1-fastcgi-vs-uwsgi.html">earlier</a>, I wrote about my experience deploying <a class="reference external" href="http://mediagoblin.org">MediaGoblin</a>. None of
this was necessary, I was mostly trying to diagnose some problems I was having
and found uWSGI a more comfortable environment than FastCGI.</p>
<p>And what problem was this, you ask? Well, when I first ran through the
installation instructions, everything worked swimmingly (the port issues
mentioned aside). The server it was running on, however, was running Fedora 17,
while Fedora 20 has just reached alpha status recently. So, in the interest of
retaining compatibility and security fixes, there was a fun afternoon of double
distribution updates.</p>
<p>At first, everything seemed to be working fine, but then MediaGoblin began
inexplicably throwing 'permission denied' errors. As usually happens in these
cases, the culprit was SELinux, an additional security layer which normally
transparently protects your system, until something unexpected shows up.</p>
<p>I don't pretend to understand SELinux, but I do understand the security
improvements it brings. Plus I don't want to disable it on a system I don't
own.</p>
<p>Long, boring story short (and it was very long, being noticed first, and not
fixed until well after I figured out how to get uWSGI running), I got something
reasonably close to what I think I'm supposed to do. The key was the command
<tt class="docutils literal">setsebool <span class="pre">-P</span> httpd_can_network_connect on</tt>, which re-enabled the ability for
nginx to talk to programs on a network socket, as in the MediaGoblin
documentation.</p>
<p>I initially changed to a file-based Unix socket, but I could not, for the life
of me figure out how to enable this simply without changing a large number of
SELinux booleans. There may be some simpler way of accomplishing this, but alas,
in this case SELinux has once again bested me.</p>
                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
        

 
            <li><article class="hentry">    
                <header>
                    <h1><a href="http://blog.katherineca.se/fossrit/deploying-mediagoblin-1-fastcgi-vs-uwsgi.html" rel="bookmark"
                           title="Permalink to Deploying MediaGoblin 1: FastCGI vs uWSGI">Deploying MediaGoblin 1: FastCGI vs uWSGI</a></h1>
                </header>
                
                <div class="entry-content">
<footer class="post-info">
        <p><img src="https://www.gravatar.com/avatar/3a3baabff105b46a458688ecf49901af" /></p>
        <abbr class="published" title="2013-09-23T13:20:00-04:00">
                Mon 23 September 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://blog.katherineca.se/author/katherine-case.html">Katherine Case</a>
        </address>
<p>In <a href="http://blog.katherineca.se/category/fossrit.html">FOSS@RIT</a>. </p>
<p>tags: <a href="http://blog.katherineca.se/tag/mediagoblin.html">mediagoblin</a><a href="http://blog.katherineca.se/tag/yacht.html">yacht</a><a href="http://blog.katherineca.se/tag/uwsgi.html">uWSGI</a></p>
</footer><!-- /.post-info -->                <p>Last week I did a thing I really wasn't expecting to. I deployed
<a class="reference external" href="http://mediagoblin.org">MediaGoblin</a> to FOSS&#64;RIT's yacht server <a class="reference external" href="http://yacht.rit.edu/mediagoblin/">here</a>. The initial setup and
<a class="reference external" href="https://mediagoblin.readthedocs.org/en/v0.5.0/siteadmin/deploying.html">instructions</a> are some of the clearest and straightforward I have seen in an
open-source project.</p>
<p>There are several reasons I haven't written this up earlier. One â€¦</p>
                <a class="readmore" href="http://blog.katherineca.se/fossrit/deploying-mediagoblin-1-fastcgi-vs-uwsgi.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 1
</p>
            </section><!-- /#content -->
  <section id="extras" class="body">
    <div class="social">
      <h2>social</h2>
      <ul>
        <li><a href="http://blog.katherineca.se/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

          <li><a href="http://github.com/Qalthos">Github</a></li>
      </ul>
    </div><!-- /.social -->
  </section><!-- /#extras -->

  <footer id="contentinfo" class="body">
    <address id="about" class="vcard body">
      Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
    </address><!-- /#about -->

    <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
  </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-40338393-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>