<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Why Not Wingnut? - groovebot</title><link href="http://blog.katherineca.se/" rel="alternate"></link><link href="http://blog.katherineca.se/feeds/tag/groovebot.atom.xml" rel="self"></link><id>http://blog.katherineca.se/</id><updated>2022-12-07T14:32:44-05:00</updated><entry><title>GrooveBot 2015</title><link href="http://blog.katherineca.se/personal/groovebot-2015.html" rel="alternate"></link><published>2015-05-11T17:28:00-04:00</published><updated>2022-12-07T14:07:06-05:00</updated><author><name>Katherine Case</name></author><id>tag:blog.katherineca.se,2015-05-11:/personal/groovebot-2015.html</id><summary type="html">&lt;p&gt;So &lt;a class="reference external" href="http://www.grooveshark.com/"&gt;GrooveShark&lt;/a&gt; shut down a few days ago.&lt;/p&gt;
&lt;p&gt;I haven't really followed them much since I took over the original &lt;a class="reference external" href="https://github.com/Qalthos/groovebot"&gt;GrooveBot&lt;/a&gt;
codebase &lt;a class="reference external" href="/personal/groovebot-updates.html"&gt;sometime in 2011&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But now GrooveBot's namesake is gone, which marks a neat sort of milestone for
the project. It has now outlived its inspiration.&lt;/p&gt;
&lt;p&gt;In any case …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So &lt;a class="reference external" href="http://www.grooveshark.com/"&gt;GrooveShark&lt;/a&gt; shut down a few days ago.&lt;/p&gt;
&lt;p&gt;I haven't really followed them much since I took over the original &lt;a class="reference external" href="https://github.com/Qalthos/groovebot"&gt;GrooveBot&lt;/a&gt;
codebase &lt;a class="reference external" href="/personal/groovebot-updates.html"&gt;sometime in 2011&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But now GrooveBot's namesake is gone, which marks a neat sort of milestone for
the project. It has now outlived its inspiration.&lt;/p&gt;
&lt;p&gt;In any case, that isn't what I really want to talk about today. Instead of
talking about the loss of GrooveShark, let me tell you about what GrooveBot has
gained.&lt;/p&gt;
&lt;p&gt;When I was last fiddling with GrooveBot sometime in 2014, I came to a sudden
realization. If I wanted to subject the people of the FOSSBox to the mad fever
dream of Smash Mouth mashups that is &lt;a class="reference external" href="http://neilcic.com"&gt;Neil Cicierega&lt;/a&gt;'s &lt;a class="reference external" href="http://neilcic.com/mouthsounds"&gt;Mouth Sounds&lt;/a&gt;, I
would have to add some form of SoundCloud integration &lt;a class="footnote-reference" href="#need" id="footnote-reference-1"&gt;[1]&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;At the time, I was busy working on one of the issues that had been annoying me
(and others) since the bot's early beginnings, namely the lack of a permanent
queue that persisted through crashes (and live-coding restarts). Along with that
came some architectural updates that should make it easier to one day support
multiple backends at the same time, which is another longstanding issue that I
would dearly like to fix one day. Point being, I had a lot of other things I
wanted to accomplish, and not a lot of percieved benefit to stopping that and
dropping in a new backend instead.&lt;/p&gt;
&lt;p&gt;Fast-forward to PyCon 2015 sprints, and Neil Cicierega has not only made another
ridiculous mashup album with &lt;a class="reference external" href="http://neilcic.com/mouthsilence"&gt;Mouth Silence&lt;/a&gt;, but has also been posting a
number of not-yet-albumized music to SoundCloud individually. So, I took a look
through SoundCloud's &lt;a class="reference external" href="https://developers.soundcloud.com/docs/api/guide"&gt;API&lt;/a&gt;, and went through some of GrooveBot's less atrophied
backends &lt;a class="footnote-reference" href="#old" id="footnote-reference-2"&gt;[2]&lt;/a&gt;, and put together a new version that supports SoundCloud.&lt;/p&gt;
&lt;p&gt;And then I proceeded to play &lt;a class="reference external" href="https://soundcloud.com/neilcic/bustin"&gt;Bustin'&lt;/a&gt; on repeat for a while.&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="need" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#footnote-reference-1"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;Well, I mean, I could use the mpd backend, but without multiple
backend support, the pool of music would get stale quickly, and as much as
this is a project to force my musical tastes onto others, it is important to
me to let them do the same to me in return.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class="docutils footnote" frame="void" id="old" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label" /&gt;&lt;col /&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="#footnote-reference-2"&gt;[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;The 2014 changes I mentioned were actually pretty deep in scope, and
while I am happier with where the bot is now, for a while Spotify was the
only supported backend because it was the only one in use, and the only one
that made the switch. Obviously now SoundCloud works, and I think MPD should
be working, but Pandora has been broken for years, and GrooveShark never
worked in the first place.&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</content><category term="personal"></category><category term="groovebot"></category></entry><entry><title>Recent Projects: Groovebot</title><link href="http://blog.katherineca.se/personal/recent-projects-groovebot.html" rel="alternate"></link><published>2012-07-24T18:47:00-04:00</published><updated>2022-12-07T14:32:44-05:00</updated><author><name>Katherine Case</name></author><id>tag:blog.katherineca.se,2012-07-24:/personal/recent-projects-groovebot.html</id><summary type="html">&lt;p&gt;This is the first of a number of posts meant to overview the things I've
been doing recently. First up on the list is the long-overdue
&lt;a class="reference external" href="https://github.com/Qalthos/groovebot"&gt;Groovebot&lt;/a&gt; update.&lt;/p&gt;
&lt;p&gt;Before this summer, Groovebot 'worked' on &lt;a class="reference external" href="http://spotify.com/"&gt;Spotify&lt;/a&gt;, and also had a
fairly useful but under-tested &lt;a class="reference external" href="http://en.wikipedia.org/wiki/Music_Player_Daemon"&gt;MPD&lt;/a&gt; backend that worked for me when …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This is the first of a number of posts meant to overview the things I've
been doing recently. First up on the list is the long-overdue
&lt;a class="reference external" href="https://github.com/Qalthos/groovebot"&gt;Groovebot&lt;/a&gt; update.&lt;/p&gt;
&lt;p&gt;Before this summer, Groovebot 'worked' on &lt;a class="reference external" href="http://spotify.com/"&gt;Spotify&lt;/a&gt;, and also had a
fairly useful but under-tested &lt;a class="reference external" href="http://en.wikipedia.org/wiki/Music_Player_Daemon"&gt;MPD&lt;/a&gt; backend that worked for me when I
could get MPD running properly. Unfortunately, I no longer had an active
Spotify subscription, which meant that I couldn't use the Spotify
backend, and I had moved off of RIT's campus, meaning I no longer had a
~100Mb connection to my fileserver, so streaming files that way was more
problematic.&lt;/p&gt;
&lt;p&gt;While looking around for other things I could use to get Groovebot
running on, I rediscovered &lt;a class="reference external" href="http://kevinmehall.net/p/pithos/"&gt;Pithos&lt;/a&gt;, a Python frontend to Pandora.
Using Pithos as an authenticator, I could get URLs to music files that I
could play if I could figure out how to play them in Python. As a
temporary test, I just sent them to mplayer to play the files. This
worked well enough, but had the same problem I had encountered with
Spotify, namely that I could not get a callback properly positioned to
fire when the song finished.&lt;/p&gt;
&lt;p&gt;I put the project aside for a time, until &lt;a class="reference external" href="http://www.jlewopensource.com/"&gt;Justin&lt;/a&gt; pointed out
GStreamer is made to do this sort of thing. With this in mind, I took
another look at the task, first trying to run GStreamer in its own event
loop on top of Twisted, then giving up and processing events on a tick.
This means I have to respond to every event GStreamer throws out (which
is a fair number of them), but most of them can be thrown out without
looking at them. Some more tweaking later, and PandBot was born, able to
connect to a user's Pandora station, play music, and thumb songs up or
down based on user response in the IRC channel.&lt;/p&gt;
&lt;p&gt;At this point, I had been writing new bots each time I added a new
backend, with a lot of repeated code in each, leading to subtle bugs and
API implementations that were slowly drifting apart based on individual
needs. This made me a little annoyed, but I didn't have any particular
need to fix it, so I left it alone. Until an accidental click around the
Spotify website left me with another Premium subscription (and $10
poorer...) I poked around on SpotBot to see if it still worked. Turns
out it did... just not on the DJ computer in the FOSSBox. Turns out that
spytify, the python bindings for &lt;a class="reference external" href="http://despotify.se/"&gt;despotify&lt;/a&gt; have gotten a little stale
in the interim, and no longer compile with modern versions of Cython.
This meant I should probably break down and get an API key from Spotify
and use the proper official API instead.&lt;/p&gt;
&lt;p&gt;However, in working on MPD and Pandora bots in the meantime had given me
a number of ideas and fixes that would be problematic to port back to
Spotify, which meant I had finally gotten an excuse to try to merge the
three separate codebases into one unified version. Starting with MPD and
Pandora, I merged the files and ran the result through a three-way diff,
trying to identify important parts of each bot to make sure each worked
properly after the merge. Next, I looked into the architecture of
pyspotify, and immediately ran into some trouble. pyspotify works
differently to the backends I had been used to, having its own threading
I would need to juggle alongside my own. Additionally, the code is not
thread safe, which is a problem with the heavily-threaded Groovebot
code.&lt;/p&gt;
&lt;p&gt;So now, the status is that we are down to two bots. One is the ancient
Grooveshark code that is in need of updating and integrating with the
second bot. This second bot has all the work I've been doing lately and,
some few remaining problems aside, mostly work. Ideally, I will soon
have a better host for the bot that will let me run Spotify, but for now
Pandora is working well enough.&lt;/p&gt;
</content><category term="personal"></category><category term="groovebot"></category></entry><entry><title>GrooveBot updates</title><link href="http://blog.katherineca.se/personal/groovebot-updates.html" rel="alternate"></link><published>2011-09-28T01:28:00-04:00</published><updated>2022-12-07T14:07:06-05:00</updated><author><name>Katherine Case</name></author><id>tag:blog.katherineca.se,2011-09-28:/personal/groovebot-updates.html</id><summary type="html">&lt;p&gt;Today I'm going to talk about something a bit more understandable, I
hope.&lt;/p&gt;
&lt;p&gt;Back around the summer of 2010, the FOSSBox wanted some ambient music to
play in the background. One of the things we wanted was a way to have
control over the songs played be available to anyone …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Today I'm going to talk about something a bit more understandable, I
hope.&lt;/p&gt;
&lt;p&gt;Back around the summer of 2010, the FOSSBox wanted some ambient music to
play in the background. One of the things we wanted was a way to have
control over the songs played be available to anyone, even if they
weren't here to listen with us. &lt;a class="reference external" href="http://jlewopensource.com/"&gt;Jlew&lt;/a&gt; was working on some IRC bots at
the time, so he wrote up a bot that could hook into the &lt;a class="reference external" href="http://www.grooveshark.com/"&gt;GrooveShark&lt;/a&gt;
API and play music that users requested through IRC. It was cool, when
it worked, and it was fun having community control over song selections,
even when that sometimes led to a bit of musical griefing.&lt;/p&gt;
&lt;p&gt;Then GrooveShark kept changing it's API without warning, then they
changed their pricing for access to said API, and then the bot stopped
working. Plans to build a more robust bot around &lt;a class="reference external" href="https://gitorious.org/jlew/groovebot"&gt;GrooveBot&lt;/a&gt;, as it was
now called, were scrapped, and the FOSSBox was quiet once more.&lt;/p&gt;
&lt;p&gt;Then &lt;a class="reference external" href="http://turntable.fm/"&gt;turntable.fm&lt;/a&gt; happened. While we are not their optimal use-case,
it did allow us a measure of community choice in our songs, and
generally got us back to playing some sweet tunes while we work, with
the added bonus that anyone could run it, not just people with premium
access. Everything was pretty good, all things considered, and we could
continue on with our lives.&lt;/p&gt;
&lt;p&gt;Except for one thing.&lt;/p&gt;
&lt;p&gt;Now with GrooveBot, you could send all kinds of commands to the bot and
it would tell you what songs were playing, queue additional songs, pause
or resume playback, and so on, all from the IRC windows we were already
using to communicate with people outside of the area. I don't expect any
of this to be available for Turntable any time soon, but there is one
function that I have sorely missed. And that is the ability to change
the volume from my computer without having to get up and manually prod
whoever's running the audio.&lt;/p&gt;
&lt;p&gt;So now there is a stripped version of GrooveBot on gitorious called
volbot, and all he does is respond to requests to change the volume.
Hopefully, when a new, free music API becomes available that we can hook
into, it should be easier to reimplement those functions in a more
general way so that multiple backends can be used for a more varied
music experience. And then we can get back to the OS grooving.&lt;/p&gt;
</content><category term="personal"></category><category term="groovebot"></category></entry></feed>