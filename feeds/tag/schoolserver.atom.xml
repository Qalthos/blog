<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Why Not Wingnut?</title><link href="http://qalthos.github.io/blog/" rel="alternate"></link><link href="http://qalthos.github.io/blog/feeds/tag/schoolserver.atom.xml" rel="self"></link><id>http://qalthos.github.io/blog/</id><updated>2013-08-05T02:04:00-04:00</updated><entry><title>Building a Schoolserver</title><link href="http://qalthos.github.io/blog/FOSS@RIT/building-a-schoolserver.html" rel="alternate"></link><updated>2013-08-05T02:04:00-04:00</updated><author><name>Nathaniel Case</name></author><id>tag:qalthos.github.io/blog,2013-08-05:FOSS@RIT/building-a-schoolserver.html</id><summary type="html">&lt;p&gt;One of my tasks for this summer has been to try and get the FOSSBox's
schoolserver up and running again. We previouly had one a number of years ago,
but the hardware failed some time ago and the system itself was running a
hacked-together Debian build and did not have access to some of the actual
schoolserver scripts.&lt;/p&gt;
&lt;p&gt;I first attempted to run the &lt;a class="reference external" href="http://wiki.laptop.org/go/XS_Installing_Software_0.7"&gt;instructions&lt;/a&gt; for the latest proper release of
the XO Schoolserver (henceforth XS), but this did not end very well. For one,
the instructions (and many automated scripts) assume you have two network
cards: one for the internal LAN to which the XO laptops connect, and another
connecting to the Internet. This assumption that the XS would be the gateway
device for a network of XO laptops would be fine in most deployments where
there is no existing infrastructure to get in the way, but at RIT where there
is not only significant infrastructure, but infrastructure I cannot easily
modify or control, it is less applicable.&lt;/p&gt;
&lt;p&gt;Here are the steps I have taken to turn a fresh CentOS/RHEL server into an XS:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Set up &lt;a class="reference external" href="http://fedoraproject.org/wiki/EPEL"&gt;EPEL&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Add the &lt;a class="reference external" href="http://wiki.laptop.org/go/XS_Installing_Software_0.7#Installing_on_top_of_existing_OS_installation"&gt;OLPC-XS repository&lt;/a&gt; to your yum config.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;yum install ejabberd idmgr &lt;span class="pre"&gt;ds-backup-server&lt;/span&gt; &lt;span class="pre"&gt;xs-activity-server&lt;/span&gt;&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;xs-domain-config&lt;/span&gt; &amp;lt;domain name&amp;gt;&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;xs-setup&lt;/span&gt;&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Use &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;system-config-firewall-tui&lt;/span&gt;&lt;/tt&gt; to unblock ports 22, 80, 8080, 5222, 5223,
and 4369&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;xs-setup&lt;/span&gt;&lt;/tt&gt; is the most trying of the commands, because it does a lot of
background work to set up the OLPC versions of many config files (while still
leaing the originals in place).&lt;/p&gt;
&lt;p&gt;There's more to it, &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;xs-setup&lt;/span&gt;&lt;/tt&gt; tends to have some annoying side effects,
some of the config files need to be manually updated, but this is the general
idea. This post will be further updated as time goes on.&lt;/p&gt;
&lt;p&gt;The main problem seen so far is that this is being set up on a RHEL server
backed by XEN, and the OLPC-XS repository keeps wanting to install an
incompatible kernel, hosing the system on a regular basis.&lt;/p&gt;
</summary><category term="sugar"></category><category term="schoolserver"></category></entry></feed>