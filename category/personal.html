<!DOCTYPE html>
<html lang="en">
<head>
        <title>Why Not Wingnut? - personal</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="../theme/css/main.css" type="text/css" />
                <link href="http://blog.linkybook.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Why Not Wingnut? Atom Feed" />
                
        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie.css"/>
                <script src="../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">Why Not Wingnut? </a></h1>
                <nav><ul>
                                                                                                    <li ><a href="../category/civx.html">CIVX</a></li>
                                    <li ><a href="../category/fossrit.html">FOSS@RIT</a></li>
                                    <li ><a href="../category/rit.html">RIT</a></li>
                                    <li ><a href="../category/innovation.html">innovation</a></li>
                                    <li class="active"><a href="../category/personal.html">personal</a></li>
                                </ul></nav>
        </header><!-- /#banner -->
                
            

                            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../recent-projects-groovebot.html">Recent Projects: Groovebot</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2012-07-24T18:47:00">
                Tue 24 July 2012
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/nathaniel-case.html">Nathaniel Case</a>
        </address>
        <p>In <a href="../category/personal.html">personal</a>. </p>
<p>tags: <a href="../tag/groovebot.html">groovebot</a><a href="../tag/fossrit.html">FOSSRIT</a></p>
</footer><!-- /.post-info --><p>This is the first of a number of posts meant to overview the things I've
been doing recently. First up on the list is the long-overdue
<a class="reference external" href="https://github.com/Qalthos/groovebot">Groovebot</a> update.</p>
<p>Before this summer, Groovebot 'worked' on <a class="reference external" href="http://spotify.com/">Spotify</a>, and also had a
fairly useful but undertested <a class="reference external" href="http://en.wikipedia.org/wiki/Music_Player_Daemon">MPD</a> backend that worked for me when I
could get MPD running properly. Unfortunately, I no longer had an active
Spotify subscription, which meant that I couldn't use the Spotify
backend, and I had moved off of RIT's campus, meaning I no longer had a
~100Mb connection to my fileserver, so streaming files that way was more
problematic.</p>
<p>While looking around for other things I could use to get Groovebot
running on, I rediscovered <a class="reference external" href="http://kevinmehall.net/p/pithos/">Pithos</a>, a Python frontend to Pandora.
Using Pithos as an authenticator, I could get URLs to music files that I
could play if I could figure out how to play them in Python. As a
temporary test, I just sent them to mplayer to play the files. This
worked well enough, but had the same problem I had encountered with
Spotify, namely that I could not get a callback properly positioned to
fire when the song finished.</p>
<p>I put the project aside for a time, until <a class="reference external" href="http://www.jlewopensource.com/">Justin</a> pointed out
GStreamer is made to do this sort of thing. With this in mind, I took
another look at the task, first trying to run GStreamer in its own event
loop on top of Twisted, then giving up and processing events on a tick.
This means I have to respond to every event GStreamer throws out (which
is a fair number of them), but most of them can be thrown out without
looking at them. Some more tweaking later, and PandBot was born, able to
connect to a user's Pandora station, play music, and thumb songs up or
down based on user respones in the IRC channel.</p>
<p>At this point, I had been writing new bots each time I added a new
backend, with a lot of repeated code in each, leading to subtle bugs and
api implementations that were slowly drifting apart based on individual
needs. This made me a little annoyed, but I didn't have any particular
need to fix it, so I left it alone. Until an accidental click around the
Spotify website left me with another Premium subscription (and $10
poorer...) I poked around on SpotBot to see if it still worked. Turns
out it did... just not on the DJ computer in the FOSSBox. Turns out that
spytify, the python bindings for <a class="reference external" href="http://despotify.se/">despotify</a> have gotten a little stale
in the interim, and no longer compile with modern versions of Cython.
This meant I should probably break down and get an API key from Spotify
and use the proper official API instead.</p>
<p>However, in working on MPD and Pandora bots in the meantime had given me
a number of ideas and fixes that would be problematic to port back to
Spotify, which meant I had finally gotten an excuse to try to merge the
three seperate codebases into one unified version. Starting with MPD and
Pandora, I merged the files and ran the result through a three-way diff,
trying to identify important parts of each bot to make sure each worked
properly after the merge. Next, I looked into the architecture of
pyspotify, and immediately ran into some trouble. pyspotify works
differently to the backends I had been used to, having its own threading
I would need to juggle alongside my own. Additionally, the code is not
thread safe, which is a problem with the heavily-threaded Groovebot
code.</p>
<p>So now, the status is that we are down to two bots. One is the ancient
Grooveshark code that is in need of updating and integrating with the
second bot. This second bot has all the work I've been doing lately and,
some few remaining problems aside, mostly work. Ideally, I will soon
have a better host for the bot that will let me run Spotify, but for now
Pandora is working well enough.</p>
</p>                </article>
                            </aside><!-- /#featured -->
                            <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">
                                                

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../groovebot-updates.html" rel="bookmark"
                           title="Permalink to GrooveBot updates">GrooveBot updates</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-09-28T01:28:00">
                Wed 28 September 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/nathaniel-case.html">Nathaniel Case</a>
        </address>
        <p>In <a href="../category/personal.html">personal</a>. </p>
<p>tags: <a href="../tag/groovebot.html">groovebot</a><a href="../tag/fossrit.html">FOSSRIT</a></p>
</footer><!-- /.post-info -->                <p>Today I'm going to talk about something a bit more understandable, I
hope.</p>
<p>Back around the summer of 2010, the FOSSBox wanted some ambient music to
play in the background. One of the things we wanted was a way to have
control over the songs played be available to ...</p>
                <a class="readmore" href="../groovebot-updates.html">read more</a>
                                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../pydex-10.html" rel="bookmark"
                           title="Permalink to pyDex 1.0">pyDex 1.0</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-05-08T03:19:00">
                Sun 08 May 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/nathaniel-case.html">Nathaniel Case</a>
        </address>
        <p>In <a href="../category/personal.html">personal</a>. </p>
<p>tags: <a href="../tag/pydex.html">pyDex</a></p>
</footer><!-- /.post-info -->                <p>And in mostly unrelated but terribly belated news, I finally released
<a class="reference external" href="https://gitorious.org/pydex">pyDex 1.0</a> this morning. Black/White pokedex, new config system, baby
pokemon, and game detection, are all new features introduced in this
version. Old configs should get read properly and get seamlessly updated
to the new version, though ...</p>
                <a class="readmore" href="../pydex-10.html">read more</a>
                                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../killer-bunnies-and-the-towering-draw-pile.html" rel="bookmark"
                           title="Permalink to Killer Bunnies and the Towering Draw Pile">Killer Bunnies and the Towering Draw Pile</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-01-23T07:12:00">
                Sun 23 January 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/nathaniel-case.html">Nathaniel Case</a>
        </address>
        <p>In <a href="../category/personal.html">personal</a>. </p>
<p>tags: <a href="../tag/personal.html">personal</a></p>
</footer><!-- /.post-info -->                <p>There was a hackfest Friday night, and a writeup is coming soon, but
first a bit of random chatter.
I have, for a few years, been collecting the various pieces that make up
<a class="reference external" href="http://boardgamegeek.com/boardgame/3699/killer-bunnies-and-the-quest-for-the-magic-carrot">Killer Bunnies and the Quest for the Magic Carrot</a>. For Christmas, I
received the Stainless Steel booster ...</p>
                <a class="readmore" href="../killer-bunnies-and-the-towering-draw-pile.html">read more</a>
                                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../pydex-on-sugar.html" rel="bookmark"
                           title="Permalink to pyDex on Sugar">pyDex on Sugar</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2011-01-19T23:51:00">
                Wed 19 January 2011
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/nathaniel-case.html">Nathaniel Case</a>
        </address>
        <p>In <a href="../category/personal.html">personal</a>. </p>
<p>tags: <a href="../tag/fossrit.html">FOSSRIT</a><a href="../tag/sugar.html">sugar</a><a href="../tag/pydex.html">pyDex</a></p>
</footer><!-- /.post-info -->                <p>A warning, this gets very technical with lots of acronyms and jargon.
tl;dr: I have a new pyDex branch which *should* run on the OLPC
A few days ago, I decided I'd finally see how well pyDex runs on the
OLPC. Turns out, it runs pretty well, which ...</p>
                <a class="readmore" href="../pydex-on-sugar.html">read more</a>
                                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../huzzah.html" rel="bookmark"
                           title="Permalink to Huzzah!">Huzzah!</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2010-09-06T17:57:00">
                Mon 06 September 2010
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/nathaniel-case.html">Nathaniel Case</a>
        </address>
        <p>In <a href="../category/personal.html">personal</a>. </p>
<p>tags: <a href="../tag/personal.html">personal</a><a href="../tag/rit.html">RIT</a></p>
</footer><!-- /.post-info -->                <p>Here we are, back at the beginning of another school year. It's going to
be interesting, I'm still pretty laid back from Fan Expo Canada in
Toronto.
My new monitor finally arrived. Well, it arrived Saturday, but the RIT
post office isn't open on weekends over breaks ...</p>
                <a class="readmore" href="../huzzah.html">read more</a>
                                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../writing-and-me.html" rel="bookmark"
                           title="Permalink to Writing and Me">Writing and Me</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2010-07-21T04:13:00">
                Wed 21 July 2010
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/nathaniel-case.html">Nathaniel Case</a>
        </address>
        <p>In <a href="../category/personal.html">personal</a>. </p>
<p>tags: <a href="../tag/personal.html">personal</a></p>
</footer><!-- /.post-info -->                <p>I am not a writer. Had things progressed differently, I might have tried
it. I do enjoy the writing process. One important problem is that I hate
revision. I start from a theoretical perfect model, and slowly write it
out, far slower than my brain, which can race ahead to ...</p>
                <a class="readmore" href="../writing-and-me.html">read more</a>
                                </div><!-- /.entry-content -->
            </article></li>
                            

                 
                        <li><article class="hentry">    
                <header>
                    <h1><a href="../pydex-progress.html" rel="bookmark"
                           title="Permalink to pyDex Progress">pyDex Progress</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
        <abbr class="published" title="2010-07-10T16:51:00">
                Sat 10 July 2010
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/nathaniel-case.html">Nathaniel Case</a>
        </address>
        <p>In <a href="../category/personal.html">personal</a>. </p>
<p>tags: <a href="../tag/pydex.html">pyDex</a></p>
</footer><!-- /.post-info -->                <p>I've finally gotten around to staging and commiting a few enhancements
to the <a class="reference external" href="http://gitorious.org/pydex">pydex repository</a>. The more advanced stuff like Isshu pokemon
and the new file format are still in limbo, naturally, and won't get
moved to master any time soon since they make older files incompatible,
though ...</p>
                <a class="readmore" href="../pydex-progress.html">read more</a>
                                </div><!-- /.entry-content -->
            </article></li>
                            </ol><!-- /#posts-list -->
                                                    </section><!-- /#content -->
                    <section id="extras" class="body">
                        <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                                                    <li><a href="http://foss.rit.edu">FOSS@RIT</a></li>
                                                </ul>
                </div><!-- /.blogroll -->
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://blog.linkybook.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            
                                                    <li><a href="#">You can add links in your config file</a></li>
                                                    <li><a href="#">Another social link</a></li>
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>